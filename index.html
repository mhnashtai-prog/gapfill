<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>B2 First Part 5 Interactive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Inter:wght@500&display=swap" rel="stylesheet">
  <style>
    html { box-sizing: border-box; }
    *, *:before, *:after { box-sizing: inherit; }
    body {
      background: linear-gradient(135deg,
        #2c5aa0 0%, #3b6bb5 15%, #4a7bc8 30%, #7a9fd9 45%,
        #b8d3ea 60%, #e8c5d8 75%, #f0b7c9 85%, #f5a9ba 100%);
      background-attachment: fixed;
      background-size: cover;
      background-repeat: no-repeat;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', Arial, sans-serif;
      min-height: 100vh;
    }
    .container {
      width: 100vw;
      min-height: 97vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      position: relative;
      margin: 0 auto;
    }
    .title {
      margin-top: 28px;
      font-size: 2.2rem;
      letter-spacing: 0.11em;
      color: #fff;
      text-align: center;
      text-transform: uppercase;
      font-family: 'Montserrat', Arial, sans-serif;
      text-shadow: 0 3px 10px rgba(0,0,0,0.18);
      margin-bottom: 6px;
      font-weight: 500;
    }
    .divider {
      width: 54px;
      height: 2px;
      background: rgba(255,255,255,0.8);
      margin: 0 auto 12px auto;
      border-radius: 2px;
      opacity: 0.91;
    }
    .carousel-container {
      width: 96vw;
      max-width: 650px;
      min-height: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      margin-bottom: 70px;
    }
    .slide {
      width: 100%;
      min-height: 290px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 10px 0 0 0;
    }
    .text-box {
      background: rgba(255,255,255,0.97);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 24px;
      box-shadow: 0 6px 18px -4px rgba(0,0,0,0.085), inset 1px 1px 3px #fff2, inset -1px -1px 4px #0001;
      width: 95%;
      padding: 18px 16px 12px 16px;
      font-size: 1.02rem;
      margin-bottom: 13px;
      color: #222;
      font-family: 'Inter', Arial, sans-serif;
      font-weight: 500;
      transition: background 0.32s;
      line-height: 1.54;
    }
    .highlighted {
      background: rgba(147,197,96,0.6);
      color: #181c2e;
      font-family: inherit;
      border-radius: 6px;
      padding: 0 2px;
      transition: background 0.23s;
    }
    .question-box {
      background: rgba(255,255,255,0.95);
      border: 1px solid rgba(255,255,255,0.19);
      border-radius: 19px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.07), inset 1px 1px 2px #fff2;
      padding: 17px 12px 13px 12px;
      width: 93%;
      font-family: 'Inter', Arial, sans-serif;
      margin-bottom: 10px;
      text-align: left;
    }
    .question-title {
      font-size: 1.01em;
      color: #2a3e66;
      margin-bottom: 10px;
      font-weight: 500;
      font-family: inherit;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 7px;
    }
    .choice {
      background: rgba(245, 249, 253, 0.97);
      border: 1px solid #c3c2e3;
      border-radius: 12px;
      font-size: 0.98em;
      color: #151c33;
      font-weight: 500;
      padding: 8px 13px;
      cursor: pointer;
      transition: background 0.17s, border 0.16s;
      outline: none;
      user-select: none;
      font-family: inherit;
    }
    .choice:active, .choice.selected {
      background: #daf5b0;
      border: 2px solid #93C560;
      color: #181c2e;
    }
    .feedback {
      margin-top: 10px;
      font-size: 0.96em;
      font-weight: 500;
      color: #c72c2c;
      text-align: center;
      font-family: inherit;
      min-height: 22px;
    }
    /* Footer Styles */
    .footer {
      width: 100vw;
      max-width: 660px;
      margin: 0 auto;
      background: rgba(68,68,68,0.92);
      border-radius: 20px 20px 0 0;
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      box-shadow: 0 2px 14px 0 #2226;
      font-size: 1.12rem;
      color: #fff;
      z-index: 100;
      font-family: 'Inter', Arial, sans-serif;
      padding: 7px 15px 7px 15px;
    }
    .footer .score { font-size: 1.05em; color: #e6f6dc; }
    .footer .footer-btn {
      background: #93C560;
      color: #fff;
      border: none;
      border-radius: 14px;
      font-size: 0.97em;
      font-weight: 500;
      padding: 6px 15px;
      cursor: pointer;
      margin: 0 2px;
      transition: background 0.16s;
    }
    .footer .footer-btn:active { background: #bfd58e; }
    .footer .footer-btn:disabled {
      background: #b8d3ea;
      color: #fff;
      cursor: default;
      opacity: 0.72;
    }
    @media (max-width: 600px) {
      .container { min-height: 93vh; }
      .carousel-container { max-width: 99vw; }
      .slide { min-height: 230px; padding-top: 0px; }
      .text-box, .question-box { font-size: 0.96rem; }
      .footer { font-size: 0.97rem; padding: 6px 9px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title">There's no stopping her!</div>
    <div class="divider"></div>
    <div class="carousel-container">
      <div class="slide">
        <div class="text-box" id="text-0">
          Noreen Hannington, a sixty-three-year-old grandmother of five, arrives at the Tyre and Wheel Company in North London at 8 a.m. every morning. She puts on a greasy apron, rolls up her sleeves and gets ready for the day's work.<br>
          The first customer pulls up in an old van. It has a flat tyre and the driver was lucky to make it to the garage. Noreen puts on her rubber gloves and gets down to work. She casually pulls off the wheel, swings it onto the work bench with one hand and takes it apart. ‘There’s your problem, sir,’ she announces, pointing at a tiny hole in the tyre. Right now, he couldn’t care less about that, since <span id="ref-0" class="">what he feels is more serious: a fast-decreasing sense of his own worth.</span> At least his mates haven’t come to witness him being rescued by a sweet-faced granny!
        </div>
        <div class="question-box">
          <div class="question-title">How does the van driver feel after getting help from Noreen?</div>
          <div class="choices">
            <div class="choice" data-answer="A">A. Impressed by the way she works</div>
            <div class="choice" data-answer="B">B. Embarrassed that he needed it</div>
            <div class="choice" data-answer="C">C. Relieved at finding it in time</div>
            <div class="choice" data-answer="D">D. Unconvinced by her advice</div>
          </div>
          <div class="feedback" id="feedback-0"></div>
        </div>
      </div>
      <!-- Repeat .slide for questions 2-8, each with a relevant <span id="ref-N"> in text -->
    </div>
    <div class="footer">
      <span class="score" id="score-label">Score: 0/1</span>
      <button class="footer-btn" id="next-btn">Next</button>
      <button class="footer-btn" id="show-btn">Show Answer</button>
      <button class="footer-btn" id="repeat-btn">Repeat</button>
      <button class="footer-btn" id="menu-btn">Menu</button>
    </div>
  </div>
  <script>
    let answered = false;
    let score = 0;
    const scoreLabel = document.getElementById('score-label');
    function updateScoreDisplay() {
      scoreLabel.textContent = "Score: " + score + "/1";
    }
    // Choices logic
    document.querySelectorAll('.choices').forEach((choiceBox, idx) => {
      choiceBox.onclick = function(e) {
        if (!e.target.classList.contains('choice')) return;
        if (answered) return;
        choiceBox.querySelectorAll('.choice').forEach(c => c.classList.remove('selected'));
        e.target.classList.add('selected');
        let answerClicked = e.target.getAttribute('data-answer');
        let feedbackDiv = document.getElementById(`feedback-${idx}`);
        let refSpan = document.getElementById(`ref-${idx}`);
        if (idx === 0) {
          if (answerClicked === "B") {
            feedbackDiv.textContent = '';
            refSpan.classList.add('highlighted');
            score = 1;
          } else {
            feedbackDiv.textContent = "There is no reference in the text.";
            refSpan.classList.remove('highlighted');
            score = 0;
          }
          updateScoreDisplay();
          answered = true;
        }
      };
    });

    // Show Answer functionality
    document.getElementById('show-btn').onclick = function() {
      let refSpan = document.getElementById('ref-0');
      refSpan.classList.add('highlighted');
      document.querySelectorAll('.choice[data-answer="B"]').forEach(e => e.classList.add('selected'));
      document.getElementById('feedback-0').textContent = '';
      answered = true;
      score = 1;
      updateScoreDisplay();
    };

    // Repeat functionality
    document.getElementById('repeat-btn').onclick = function() {
      answered = false;
      let refSpan = document.getElementById('ref-0');
      refSpan.classList.remove('highlighted');
      document.getElementById('feedback-0').textContent = '';
      document.querySelectorAll('.choice').forEach(e => e.classList.remove('selected'));
      score = 0;
      updateScoreDisplay();
    };

    // Next button (demo: advances nowhere, placeholder for expansion)
    document.getElementById('next-btn').onclick = function() {
      alert('Demo: Add next question navigation.');
    };

    // Menu button
    document.getElementById('menu-btn').onclick = function() {
      window.location.href = '../index.html';
    };

    // Initial score setup
    updateScoreDisplay();
  </script>
</body>
</html>
